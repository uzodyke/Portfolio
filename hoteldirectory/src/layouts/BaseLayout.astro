---
import SEOHead from '@/components/SEOHead.astro';

export interface Props {
  title: string;
  description: string;
  canonical?: string;
  ogImage?: string;
  noindex?: boolean;
  jsonLd?: any;
}

const {
  title,
  description,
  canonical,
  ogImage,
  noindex = false,
  jsonLd
} = Astro.props;

const currentYear = new Date().getFullYear();
---

<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
  <meta charset="UTF-8" />
  <SEOHead
    title={title}
    description={description}
    canonical={canonical}
    ogImage={ogImage}
    noindex={noindex}
    jsonLd={jsonLd}
  />
</head>
<body class="h-full flex flex-col bg-gray-50">
  <!-- Header -->
  <header class="bg-primary-900 text-white shadow-lg" role="banner">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between items-center py-4">
        <div class="flex items-center">
          <a href="/" class="text-xl font-bold hover:text-primary-200 transition-colors" aria-label="Hotel Directory Home">
            üè® Hotel Directory
          </a>
        </div>

        <nav role="navigation" aria-label="Main navigation">
          <ul class="flex space-x-6">
            <li>
              <a
                href="/"
                class="hover:text-primary-200 transition-colors focus:outline-none focus:ring-2 focus:ring-primary-300 rounded px-2 py-1"
                aria-label="Go to homepage"
              >
                Home
              </a>
            </li>
            <li>
              <a
                href="/hotels"
                class="hover:text-primary-200 transition-colors focus:outline-none focus:ring-2 focus:ring-primary-300 rounded px-2 py-1"
                aria-label="Browse all hotels"
              >
                All Hotels
              </a>
            </li>
            <li>
              <a
                href="/locations"
                class="hover:text-primary-200 transition-colors focus:outline-none focus:ring-2 focus:ring-primary-300 rounded px-2 py-1"
                aria-label="Browse by location"
              >
                Locations
              </a>
            </li>
          </ul>
        </nav>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main role="main" class="flex-grow">
    <slot />
  </main>

  <!-- Footer -->
  <footer class="bg-gray-800 text-white" role="contentinfo">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        <!-- Company Info -->
        <div>
          <h3 class="text-lg font-semibold mb-4">Hotel Directory</h3>
          <p class="text-gray-300 mb-4">
            Find the perfect hotel for your stay. We provide comprehensive information about hotels worldwide.
          </p>
          <p class="text-sm text-gray-400">
            Available 24/7 for your convenience
          </p>
        </div>

        <!-- Quick Links -->
        <div>
          <h3 class="text-lg font-semibold mb-4">Quick Links</h3>
          <ul class="space-y-2">
            <li>
              <a href="/hotels" class="text-gray-300 hover:text-white transition-colors">
                All Hotels
              </a>
            </li>
            <li>
              <a href="/locations" class="text-gray-300 hover:text-white transition-colors">
                By Location
              </a>
            </li>
            <li>
              <a href="/about" class="text-gray-300 hover:text-white transition-colors">
                About Us
              </a>
            </li>
            <li>
              <a href="/contact" class="text-gray-300 hover:text-white transition-colors">
                Contact
              </a>
            </li>
          </ul>
        </div>

        <!-- Contact Info -->
        <div>
          <h3 class="text-lg font-semibold mb-4">Contact Information</h3>
          <div class="space-y-2 text-gray-300">
            <p>üìß info@hoteldirectory.com</p>
            <p>üìû +1 (555) 123-4567</p>
            <p>üìç Available Worldwide</p>
          </div>
        </div>
      </div>

      <div class="border-t border-gray-700 mt-8 pt-6 text-center">
        <p class="text-gray-400 text-sm">
          ¬© {currentYear} Hotel Directory. All rights reserved.
        </p>
      </div>
    </div>
  </footer>

  <!-- Google Analytics -->
  <script is:inline>
    // Analytics will be initialized separately
  </script>

  <!-- Performance optimization scripts -->
  <script>
    // Preload critical resources
    const criticalImages = document.querySelectorAll('img[loading="eager"]');
    criticalImages.forEach(img => {
      const imageElement = img as HTMLImageElement;
      if (imageElement.src) {
        const link = document.createElement('link');
        link.rel = 'preload';
        link.as = 'image';
        link.href = imageElement.src;
        document.head.appendChild(link);
      }
    });

    // Progressive enhancement for interactivity
    document.addEventListener('DOMContentLoaded', () => {
      // Add any interactive enhancements here
    });
  </script>
</body>
</html>